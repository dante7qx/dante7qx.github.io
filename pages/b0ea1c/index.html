<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>精灵开发框架 | 精灵知识库</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/logo.ico">
    <meta name="description" content="前端、后端技术文章。">
    <meta name="keywords" content="前端,前端开发,前端框架,web前端,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,java,springboot,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.35799587.css" as="style"><link rel="preload" href="/assets/js/app.b20e1425.js" as="script"><link rel="preload" href="/assets/js/2.cceb1a40.js" as="script"><link rel="preload" href="/assets/js/3.44c191c5.js" as="script"><link rel="preload" href="/assets/js/4.cd00e787.js" as="script"><link rel="prefetch" href="/assets/js/10.210c308c.js"><link rel="prefetch" href="/assets/js/11.601bf5a7.js"><link rel="prefetch" href="/assets/js/12.250f267e.js"><link rel="prefetch" href="/assets/js/13.8f06a244.js"><link rel="prefetch" href="/assets/js/14.c24edfe0.js"><link rel="prefetch" href="/assets/js/15.069852b0.js"><link rel="prefetch" href="/assets/js/16.91e3e414.js"><link rel="prefetch" href="/assets/js/17.7ba7fcc3.js"><link rel="prefetch" href="/assets/js/18.69f1a891.js"><link rel="prefetch" href="/assets/js/19.b1c73562.js"><link rel="prefetch" href="/assets/js/20.ac59c34f.js"><link rel="prefetch" href="/assets/js/21.90163ab3.js"><link rel="prefetch" href="/assets/js/22.2a17ef49.js"><link rel="prefetch" href="/assets/js/23.60789432.js"><link rel="prefetch" href="/assets/js/24.b10b970f.js"><link rel="prefetch" href="/assets/js/25.574f1f13.js"><link rel="prefetch" href="/assets/js/26.799e50e3.js"><link rel="prefetch" href="/assets/js/27.c4a9e536.js"><link rel="prefetch" href="/assets/js/28.74489a19.js"><link rel="prefetch" href="/assets/js/29.e6295435.js"><link rel="prefetch" href="/assets/js/30.97da5441.js"><link rel="prefetch" href="/assets/js/31.79fc5a21.js"><link rel="prefetch" href="/assets/js/32.dccadd4b.js"><link rel="prefetch" href="/assets/js/33.6045d8c2.js"><link rel="prefetch" href="/assets/js/34.a13b4196.js"><link rel="prefetch" href="/assets/js/35.4518695d.js"><link rel="prefetch" href="/assets/js/36.3ae58426.js"><link rel="prefetch" href="/assets/js/37.949c8bb0.js"><link rel="prefetch" href="/assets/js/38.944c8234.js"><link rel="prefetch" href="/assets/js/39.2b6354ba.js"><link rel="prefetch" href="/assets/js/40.5e49aba1.js"><link rel="prefetch" href="/assets/js/41.622cefab.js"><link rel="prefetch" href="/assets/js/42.76bca979.js"><link rel="prefetch" href="/assets/js/43.882e6f73.js"><link rel="prefetch" href="/assets/js/44.914b2f6d.js"><link rel="prefetch" href="/assets/js/45.c338f7c0.js"><link rel="prefetch" href="/assets/js/46.cd31c438.js"><link rel="prefetch" href="/assets/js/47.3ceeae2f.js"><link rel="prefetch" href="/assets/js/48.c7340ff0.js"><link rel="prefetch" href="/assets/js/49.26b39789.js"><link rel="prefetch" href="/assets/js/5.bc1206c3.js"><link rel="prefetch" href="/assets/js/50.f5ed7306.js"><link rel="prefetch" href="/assets/js/51.56c2f161.js"><link rel="prefetch" href="/assets/js/52.c13f6986.js"><link rel="prefetch" href="/assets/js/53.b5e1e972.js"><link rel="prefetch" href="/assets/js/54.7e18732f.js"><link rel="prefetch" href="/assets/js/55.1277ec05.js"><link rel="prefetch" href="/assets/js/56.4b15722a.js"><link rel="prefetch" href="/assets/js/57.c771e66c.js"><link rel="prefetch" href="/assets/js/58.33efc19f.js"><link rel="prefetch" href="/assets/js/59.aa92f21b.js"><link rel="prefetch" href="/assets/js/6.d1e83ed9.js"><link rel="prefetch" href="/assets/js/60.512f12f7.js"><link rel="prefetch" href="/assets/js/61.c676125c.js"><link rel="prefetch" href="/assets/js/62.fcc008c7.js"><link rel="prefetch" href="/assets/js/63.9dfcd566.js"><link rel="prefetch" href="/assets/js/64.8490864b.js"><link rel="prefetch" href="/assets/js/65.7805ba5e.js"><link rel="prefetch" href="/assets/js/66.0de8dcd9.js"><link rel="prefetch" href="/assets/js/67.7ef54f57.js"><link rel="prefetch" href="/assets/js/68.4aba0618.js"><link rel="prefetch" href="/assets/js/69.e9fb2715.js"><link rel="prefetch" href="/assets/js/7.325270b3.js"><link rel="prefetch" href="/assets/js/70.3b50b80c.js"><link rel="prefetch" href="/assets/js/71.c79476ae.js"><link rel="prefetch" href="/assets/js/72.fc082e74.js"><link rel="prefetch" href="/assets/js/73.6e0d89dc.js"><link rel="prefetch" href="/assets/js/74.06c1b9ea.js"><link rel="prefetch" href="/assets/js/75.af70bbf9.js"><link rel="prefetch" href="/assets/js/76.0466a8b8.js"><link rel="prefetch" href="/assets/js/77.78c22a18.js"><link rel="prefetch" href="/assets/js/78.21211935.js"><link rel="prefetch" href="/assets/js/79.cf990f3b.js"><link rel="prefetch" href="/assets/js/8.24529e82.js"><link rel="prefetch" href="/assets/js/80.161ceaee.js"><link rel="prefetch" href="/assets/js/81.cb30e08d.js"><link rel="prefetch" href="/assets/js/82.f349efde.js"><link rel="prefetch" href="/assets/js/83.dc74be1f.js"><link rel="prefetch" href="/assets/js/84.c84cb2e4.js"><link rel="prefetch" href="/assets/js/85.e7176538.js"><link rel="prefetch" href="/assets/js/86.75e617dd.js"><link rel="prefetch" href="/assets/js/9.08a85c6b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35799587.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="精灵知识库" class="logo"> <span class="site-name can-hide">精灵知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/66afcf/" class="nav-link">npm库配置</a></li><li class="dropdown-item"><!----> <a href="/pages/bf1e77/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/98e571/" class="nav-link">npm常用命令</a></li><li class="dropdown-subitem"><a href="/pages/bf3e86/" class="nav-link">vue问题记录</a></li><li class="dropdown-subitem"><a href="/pages/c0b520/" class="nav-link">ElementUI修改样式</a></li><li class="dropdown-subitem"><a href="/pages/d3430f/" class="nav-link">SEO基础知识及优化</a></li><li class="dropdown-subitem"><a href="/pages/99c0cd/" class="nav-link">禁止别人调试我的前端页面代码</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8d5c6e/" class="nav-link">小程序</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1a8a54/" class="nav-link">Maven库配置</a></li><li class="dropdown-subitem"><a href="/pages/b0ea1c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">精灵开发框架</a></li><li class="dropdown-subitem"><a href="/pages/d3e913/" class="nav-link">精灵框架插件</a></li><li class="dropdown-subitem"><a href="/pages/ee3759/" class="nav-link">Spring系列</a></li></ul></li><li class="dropdown-item"><h4>.NET</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/77b13d/" class="nav-link">Nuget库配置</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1d5182/" class="nav-link">Pypi库配置</a></li></ul></li><li class="dropdown-item"><h4>常见问题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bffcb2/" class="nav-link">Word转Pdf字体错乱</a></li><li class="dropdown-subitem"><a href="/pages/944ec8/" class="nav-link">使用Jacob进行Word导出PDF</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="部署" class="dropdown-title"><a href="/deploy/" class="link-title">部署</a> <span class="title" style="display:none;">部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2e319f/" class="nav-link">前端带路径</a></li><li class="dropdown-item"><h4>Linux</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/28b42f/" class="nav-link">应用部署</a></li></ul></li><li class="dropdown-item"><h4>Windows</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/4ecb57/" class="nav-link">应用部署</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/5c3156/" class="nav-link">视频监控</a></li><li class="dropdown-item"><!----> <a href="/pages/42b7af/" class="nav-link">MySQL系列～</a></li><li class="dropdown-item"><!----> <a href="/pages/ed7a01/" class="nav-link">应用高可用</a></li><li class="dropdown-item"><!----> <a href="/pages/d25fa6/" class="nav-link">静态代码扫描</a></li><li class="dropdown-item"><!----> <a href="/pages/273316/" class="nav-link">OpenSSH版本升级</a></li><li class="dropdown-item"><!----> <a href="/pages/8a6c0a/" class="nav-link">区块链～</a></li><li class="dropdown-item"><!----> <a href="/pages/44cbd7/" class="nav-link">搜索技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI" class="dropdown-title"><a href="/ai/" class="link-title">AI</a> <span class="title" style="display:none;">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2c0778/" class="nav-link">DeepSeek</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/484386/" class="nav-link">Markdown教程</a></li></ul></div></div><div class="nav-item"><a href="/worklinks/" class="nav-link">惊喜链接</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/66afcf/" class="nav-link">npm库配置</a></li><li class="dropdown-item"><!----> <a href="/pages/bf1e77/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/98e571/" class="nav-link">npm常用命令</a></li><li class="dropdown-subitem"><a href="/pages/bf3e86/" class="nav-link">vue问题记录</a></li><li class="dropdown-subitem"><a href="/pages/c0b520/" class="nav-link">ElementUI修改样式</a></li><li class="dropdown-subitem"><a href="/pages/d3430f/" class="nav-link">SEO基础知识及优化</a></li><li class="dropdown-subitem"><a href="/pages/99c0cd/" class="nav-link">禁止别人调试我的前端页面代码</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8d5c6e/" class="nav-link">小程序</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1a8a54/" class="nav-link">Maven库配置</a></li><li class="dropdown-subitem"><a href="/pages/b0ea1c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">精灵开发框架</a></li><li class="dropdown-subitem"><a href="/pages/d3e913/" class="nav-link">精灵框架插件</a></li><li class="dropdown-subitem"><a href="/pages/ee3759/" class="nav-link">Spring系列</a></li></ul></li><li class="dropdown-item"><h4>.NET</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/77b13d/" class="nav-link">Nuget库配置</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1d5182/" class="nav-link">Pypi库配置</a></li></ul></li><li class="dropdown-item"><h4>常见问题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bffcb2/" class="nav-link">Word转Pdf字体错乱</a></li><li class="dropdown-subitem"><a href="/pages/944ec8/" class="nav-link">使用Jacob进行Word导出PDF</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="部署" class="dropdown-title"><a href="/deploy/" class="link-title">部署</a> <span class="title" style="display:none;">部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2e319f/" class="nav-link">前端带路径</a></li><li class="dropdown-item"><h4>Linux</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/28b42f/" class="nav-link">应用部署</a></li></ul></li><li class="dropdown-item"><h4>Windows</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/4ecb57/" class="nav-link">应用部署</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/5c3156/" class="nav-link">视频监控</a></li><li class="dropdown-item"><!----> <a href="/pages/42b7af/" class="nav-link">MySQL系列～</a></li><li class="dropdown-item"><!----> <a href="/pages/ed7a01/" class="nav-link">应用高可用</a></li><li class="dropdown-item"><!----> <a href="/pages/d25fa6/" class="nav-link">静态代码扫描</a></li><li class="dropdown-item"><!----> <a href="/pages/273316/" class="nav-link">OpenSSH版本升级</a></li><li class="dropdown-item"><!----> <a href="/pages/8a6c0a/" class="nav-link">区块链～</a></li><li class="dropdown-item"><!----> <a href="/pages/44cbd7/" class="nav-link">搜索技巧</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AI" class="dropdown-title"><a href="/ai/" class="link-title">AI</a> <span class="title" style="display:none;">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2c0778/" class="nav-link">DeepSeek</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/484386/" class="nav-link">Markdown教程</a></li></ul></div></div><div class="nav-item"><a href="/worklinks/" class="nav-link">惊喜链接</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1a8a54/" class="sidebar-link">Maven库配置</a></li><li><a href="/pages/b0ea1c/" aria-current="page" class="active sidebar-link">精灵开发框架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/b0ea1c/#一-框架简介" class="sidebar-link">一. 框架简介</a></li><li class="sidebar-sub-header level2"><a href="/pages/b0ea1c/#二-使用说明" class="sidebar-link">二. 使用说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_1-下载项目" class="sidebar-link">1. 下载项目</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_2-修改项目包路径" class="sidebar-link">2. 修改项目包路径</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/b0ea1c/#三-开发说明" class="sidebar-link">三. 开发说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_1-将项目导入到你的ide中" class="sidebar-link">1. 将项目导入到你的IDE中</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_2-根据实际项目修改配置" class="sidebar-link">2. 根据实际项目修改配置</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_4-业务开发" class="sidebar-link">4. 业务开发</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_5-项目启动" class="sidebar-link">5. 项目启动</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_6-图片代理" class="sidebar-link">6. 图片代理</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_7-邮件服务" class="sidebar-link">7. 邮件服务</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_8-短信服务" class="sidebar-link">8. 短信服务</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_9-登录增强" class="sidebar-link">9. 登录增强</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_10-业务附件" class="sidebar-link">10. 业务附件</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_11-项目健康指数和客户活跃度感知" class="sidebar-link">11. 项目健康指数和客户活跃度感知</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_12-信息发布" class="sidebar-link">12. 信息发布</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_13-代码示例" class="sidebar-link">13. 代码示例</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_14-增强工具" class="sidebar-link">14. 增强工具</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_15-代码生成" class="sidebar-link">15. 代码生成</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_16-视频播放组件" class="sidebar-link">16. 视频播放组件</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_17-页面水印" class="sidebar-link">17. 页面水印</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_18-审批记录" class="sidebar-link">18. 审批记录</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_19-富文本编辑器" class="sidebar-link">19. 富文本编辑器</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_20-密码功能增强" class="sidebar-link">20. 密码功能增强</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_21-列表长字段" class="sidebar-link">21. 列表长字段</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_22-部门用户选择" class="sidebar-link">22. 部门用户选择</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_23-消息提醒" class="sidebar-link">23. 消息提醒</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_24-资源打包成zip下载" class="sidebar-link">24. 资源打包成ZIP下载</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_25-二维码生成工具" class="sidebar-link">25. 二维码生成工具</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_26-敏感词过滤工具" class="sidebar-link">26. 敏感词过滤工具</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_27-留言评论" class="sidebar-link">27. 留言评论</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_28-数据脱敏" class="sidebar-link">28. 数据脱敏</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_29-内部消息队列" class="sidebar-link">29. 内部消息队列</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_30-导出word工具类" class="sidebar-link">30. 导出Word工具类</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_31-部门树" class="sidebar-link">31. 部门树</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_32-文件预览增强" class="sidebar-link">32. 文件预览增强</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_33-flyway管理数据库版本" class="sidebar-link">33. Flyway管理数据库版本</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_34-redis分布式锁" class="sidebar-link">34. Redis分布式锁</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_35-分割面板-前端" class="sidebar-link">35. 分割面板（前端）</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#_36-自定义高级查询" class="sidebar-link">36. 自定义高级查询</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/b0ea1c/#四-更新记录" class="sidebar-link">四. 更新记录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#v3-0-1" class="sidebar-link">v3.0.1</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#v3-0-2" class="sidebar-link">v3.0.2</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#v4-0-0" class="sidebar-link">v4.0.0</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#v5-0-0" class="sidebar-link">v5.0.0</a></li><li class="sidebar-sub-header level3"><a href="/pages/b0ea1c/#v5-1-0" class="sidebar-link">v5.1.0</a></li></ul></li></ul></li><li><a href="/pages/d3e913/" class="sidebar-link">精灵框架插件</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>框架插件</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/ee3759/" class="sidebar-link">Spring系列</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>.NET</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见问题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/backend/#后端" data-v-06970110>后端</a></li><li data-v-06970110><a href="/backend/#Java" data-v-06970110>Java</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="javascript:;" data-v-06970110>但丁</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-09-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">精灵开发框架<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h4 align="center">基于Ruoyi v3.8.6 前后端分离的Java快速开发框架 v5.0.0</h4> <h2 id="一-框架简介"><a href="#一-框架简介" class="header-anchor">#</a> 一. 框架简介</h2> <p>本框架基于 <a href="http://doc.ruoyi.vip/ruoyi-vue/" target="_blank" rel="noopener noreferrer">若依分离版<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 进行二次开发，若依的所有功能均可正常使用，并涵盖了更多的基础功能和公共业务模块。</p> <h2 id="二-使用说明"><a href="#二-使用说明" class="header-anchor">#</a> 二. 使用说明</h2> <p>当有一个新项目要进行开发，需要进行如下操作。</p> <h3 id="_1-下载项目"><a href="#_1-下载项目" class="header-anchor">#</a> 1. 下载项目</h3> <p>下载开发框架。下载完成后，进行解压，解压后将目录名修改为您的项目名称（英文）。</p> <blockquote><p>开发框架 和 开发框架Plus的区别：开发框架使用原生MyBatis，开发框架Plus使用MyBatis-Plus。</p></blockquote> <h3 id="_2-修改项目包路径"><a href="#_2-修改项目包路径" class="header-anchor">#</a> 2. 修改项目包路径</h3> <ul><li>进入项目目录，修改 new_project.sh （或 new_project_mac.sh）</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">## 找到</span>
<span class="token assign-left variable">projectName</span><span class="token operator">=</span><span class="token string">&quot;xx-sys&quot;</span>
<span class="token assign-left variable">projectCN</span><span class="token operator">=</span><span class="token string">&quot;XX管理系统&quot;</span>

<span class="token comment">## 根据实际项目进行修改</span>
<span class="token assign-left variable">projectName</span><span class="token operator">=</span><span class="token string">&quot;gangu&quot;</span>
<span class="token assign-left variable">projectCN</span><span class="token operator">=</span><span class="token string">&quot;干谷社区管理系统&quot;</span>
</code></pre></div><ul><li>执行脚本</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">## Linux 系统</span>
<span class="token function">bash</span> new_project.sh

<span class="token comment">## MAC 系统</span>
<span class="token function">bash</span> new_project_mac.sh
</code></pre></div><h2 id="三-开发说明"><a href="#三-开发说明" class="header-anchor">#</a> 三. 开发说明</h2> <h3 id="_1-将项目导入到你的ide中"><a href="#_1-将项目导入到你的ide中" class="header-anchor">#</a> 1. 将项目导入到你的IDE中</h3> <h3 id="_2-根据实际项目修改配置"><a href="#_2-根据实际项目修改配置" class="header-anchor">#</a> 2. 根据实际项目修改配置</h3> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment">## application.yml</span>
<span class="token key atrule">spirit</span><span class="token punctuation">:</span>
  <span class="token key atrule">profile</span><span class="token punctuation">:</span> &lt;文件上传目录<span class="token punctuation">&gt;</span>
  
<span class="token comment">## application-druid.yml</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource
    <span class="token key atrule">driverClassName</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">druid</span><span class="token punctuation">:</span>
      <span class="token comment"># 主库数据源</span>
      <span class="token key atrule">master</span><span class="token punctuation">:</span>
        <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//&lt;数据库url<span class="token punctuation">&gt;</span>/&lt;数据库<span class="token punctuation">&gt;</span><span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> &lt;数据库账号<span class="token punctuation">&gt;</span>
        <span class="token key atrule">password</span><span class="token punctuation">:</span> &lt;数据库密码<span class="token punctuation">&gt;</span>
</code></pre></div><h3 id="_4-业务开发"><a href="#_4-业务开发" class="header-anchor">#</a> 4. 业务开发</h3> <p>项目在业务逻辑都在 <code>项目名-biz</code>模块下进行开发。如果要修改模块的名称，则需要修改以下地方。例如：修改为 <code>xx-build</code></p> <ul><li><code>项目名-biz</code> 下 pom.xml</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 找到 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>项目名-biz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 修改为 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>xx-build<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>项目根目录下的 pom.xml</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 找到 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.spirit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>项目名-biz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>项目名-biz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 修改为 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.spirit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>xx-build<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${project.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>xx-build<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>项目名-admin</code> 下的 pom.xml</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 找到 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.spirit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>项目名-biz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 修改为 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.spirit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>xx-build<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_5-项目启动"><a href="#_5-项目启动" class="header-anchor">#</a> 5. 项目启动</h3> <p>Windows环境下，可能会报如下错误，需要添加 JVM 启动参数 <code>-Djdk.io.File.enableADS=true</code></p> <div class="language-ABAP extra-class"><pre class="language-abap"><code>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>NoClassDefFoundError<span class="token punctuation">:</span> Could <span class="token keyword">not</span> initialize <span class="token keyword">class</span> org<span class="token punctuation">.</span>xnio<span class="token punctuation">.</span>conduits<span class="token punctuation">.</span>Conduit
</code></pre></div><h3 id="_6-图片代理"><a href="#_6-图片代理" class="header-anchor">#</a> 6. 图片代理</h3> <p>若依默认的图片请求访问后台地址会根据<code>/profile</code>进行匹配，这里修改为<code>/project-profile</code>（默认，会随项目而定）。主要是为了解决同一台服务器上部署多个项目，引发路径重复的问题。</p> <p>修改的位置：<code>project-common 下 Constants.java 中的 RESOURCE_PREFIX</code></p> <h3 id="_7-邮件服务"><a href="#_7-邮件服务" class="header-anchor">#</a> 7. 邮件服务</h3> <p>框架自带邮件服务，可用于发送邮件。</p> <ul><li>使用邮件服务，需要进行修改配置 application.yml</li></ul> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment">## 修改下面的配置</span>
<span class="token key atrule">mail</span><span class="token punctuation">:</span>
  <span class="token comment">## SMTP 服务器</span>
  <span class="token key atrule">host</span><span class="token punctuation">:</span> smtp.163.com    
  <span class="token comment">## 发送端的用户邮箱名      </span>
  <span class="token key atrule">username</span><span class="token punctuation">:</span> test@163.com
  <span class="token comment">## 发送端的密码（授权密码，不是邮箱密码）</span>
  <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre></div><ul><li>邮件服务类 <code>EmailFactory</code>，测试类 <code>EmailFactoryTests</code></li></ul> <h3 id="_8-短信服务"><a href="#_8-短信服务" class="header-anchor">#</a> 8. 短信服务</h3> <p>框架自带短信服务，可用于发送短信。</p> <ul><li>修改系统参数</li></ul> <img src="/assets/img/sms.199cef10.png" alt="sms" style="zoom:40%;"> <ul><li>短信服务类 <code>SmsFactory</code>，测试类 <code>SmsFactoryTests</code></li></ul> <h3 id="_9-登录增强"><a href="#_9-登录增强" class="header-anchor">#</a> 9. 登录增强</h3> <p>框架对登录功能进行了增强，增加短信验证码登录方式。若只需要账号登录，将 <code>login.vue</code> 中的 <code>smsEnabled</code> 设为 false 即可。</p> <img src="/assets/img/login.71a95623.png" alt="login" style="zoom:50%;"> <h3 id="_10-业务附件"><a href="#_10-业务附件" class="header-anchor">#</a> 10. 业务附件</h3> <p>框架对附件上传功能进行了增强，新增附件表<code>sys_attachment</code>。使用时需要传递业务模块<code>bizModel</code>。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- 业务模块名可以设置为业务模块的domain --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file-upload</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.attachment<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:bizModel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>&lt;业务模块名&gt;'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="_11-项目健康指数和客户活跃度感知"><a href="#_11-项目健康指数和客户活跃度感知" class="header-anchor">#</a> 11. 项目健康指数和客户活跃度感知</h3> <p>框架添加项目健康指数和客户活跃度感知统一接口，用于检测已交付项目客户使用的活跃度。接口的实现类为 <code>SysMonitor4spiritController</code>，BaseURI 是 <code>/spirit/monitor</code>，接口可匿名访问。</p> <p>BaseURI：<code>/spirit/monitor</code>，请求方式：POST</p> <table><thead><tr><th>接口名</th> <th>URI</th> <th>参数</th> <th>状态</th></tr></thead> <tbody><tr><td>每日用户访问数</td> <td>/user_visit_count/{queryDate}</td> <td>查询日期，格式必须为 yyyyMMdd</td> <td>框架自带</td></tr> <tr><td>每日新用户新增数</td> <td>/user_increase_count/{queryDate}</td> <td>查询日期，格式必须为 yyyyMMdd</td> <td>框架自带</td></tr> <tr><td>每日核心业务数据新增数</td> <td>/business_increase_count/{queryDate}</td> <td>查询日期，格式必须为 yyyyMMdd</td> <td>未实现，需业务系统自行实现</td></tr></tbody></table> <h3 id="_12-信息发布"><a href="#_12-信息发布" class="header-anchor">#</a> 12. 信息发布</h3> <p>框架添加了栏目分类、栏目属性、信息发布功能，包含信息草稿、审批、发布、浏览、信息属性功能。菜单位于<strong>系统管理 —&gt; 信息管理</strong>。</p> <p>涉及角色：信息录入员、信息管理员</p> <p>功能权限说明：</p> <table><thead><tr><th>功能</th> <th>角色</th></tr></thead> <tbody><tr><td>新增、修改、删除</td> <td>信息录入员（√）  信息管理员（√）</td></tr> <tr><td>栏目分类、批量通过、批量驳回、通过、驳回</td> <td>信息录入员（X）  信息管理员（√）</td></tr> <tr><td>匿名访问设置、评论设置、设置访问范围、启用、停用、置顶</td> <td>信息录入员（√）  信息管理员（√）</td></tr></tbody></table> <p>其他说明：</p> <ul><li><p>置顶：同时只能有一条记录被置顶。</p></li> <li><p>设置访问范围后，匿名访问会被取消。</p></li></ul> <h3 id="_13-代码示例"><a href="#_13-代码示例" class="header-anchor">#</a> 13. 代码示例</h3> <p>框架添加了代码示例菜单（系统工具—&gt; 代码示例），包含了日常开发中一些通用、特别的功能，便于开发人员参考。</p> <img src="/assets/img/code.6961dc93.png" alt="code" style="zoom:50%;"> <h3 id="_14-增强工具"><a href="#_14-增强工具" class="header-anchor">#</a> 14. 增强工具</h3> <ul><li><p>Word导出</p> <p>添加依赖Poi-tl 1.10.4</p></li> <li><p>Word转PDF</p> <p>工具类Word2PdfUtil.java，测试类Word2PdfUtilTests</p></li> <li><p>Hutool</p> <p>添加依赖 Hutool 5.8.4。官网：https://hutool.cn/docs</p> <p>开发时，不要去写太多的工具类，Hutool包含的工具类已经覆盖了99%的场景，我们只需写业务相关的工具类。</p></li> <li><p>汉字转拼音工具类</p> <p>添加依赖 pinyin4j 2.5.0，工具类PinyinUtil.java</p></li> <li><p>添加 lombok 插件</p></li> <li><p>Moment.js</p> <p>添加 Moment.js 2.29.4，前端日期处理类库。官网：http://momentjs.cn</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$moment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;YYYY-MM-DD&quot;</span><span class="token punctuation">)</span>	<span class="token comment">// 2022-10-24</span>
</code></pre></div></li> <li><p>集成jsencrypt实现密码加密传输方式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> encrypt<span class="token punctuation">,</span> decrypt <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/jsencrypt'</span>

<span class="token function">encrypt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">.</span>password<span class="token punctuation">)</span>
<span class="token function">decrypt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">.</span>password<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>添加全局Base64编码/解码工具类（since v4.0.0）</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> encode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">encodeBase64</span><span class="token punctuation">(</span><span class="token string">'精灵科技'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>encode<span class="token punctuation">)</span>
<span class="token keyword">const</span> decode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">decodeBase64</span><span class="token punctuation">(</span>encode<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>decode<span class="token punctuation">)</span>
</code></pre></div><h3 id="_15-代码生成"><a href="#_15-代码生成" class="header-anchor">#</a> 15. 代码生成</h3> <p>框架对代码生成进行了修改，修改内容如下</p> <ul><li>去除PUT、DELETE方式的HTTP方法，替换为POST。<br>（安全考量，https://cloud.tencent.com/developer/article/1472910）</li> <li>列表页和详情页分离，便于组件化开发。</li> <li>添加查看按钮及相关逻辑。</li> <li>根据数据库设计，自动的为文本框和文本域设置 <code>maxlength</code> 和 <code>show-word-limit</code>。</li> <li>添加左侧部门树单表模板。</li></ul> <h3 id="_16-视频播放组件"><a href="#_16-视频播放组件" class="header-anchor">#</a> 16. 视频播放组件</h3> <p>（前端）框架添加视频播放组件，<code>@/components/Video</code>，可用于对接视频监控功能。具体使用方式请参考代码示例。</p> <h3 id="_17-页面水印"><a href="#_17-页面水印" class="header-anchor">#</a> 17. 页面水印</h3> <p>（前端）框架添加了页面水印功能。具体使用方式请参考代码示例。</p> <h3 id="_18-审批记录"><a href="#_18-审批记录" class="header-anchor">#</a> 18. 审批记录</h3> <p>框架设计了一个统一的审批记录表，<code>sys_approval_log</code>。当业务中有审批逻辑时，在 <code>sys_approval_log</code> 中插入一条数据。相关的处理类为<code>ISysOperLogService.java</code>、<code>ApprovalFlowConstats.java</code>。</p> <h3 id="_19-富文本编辑器"><a href="#_19-富文本编辑器" class="header-anchor">#</a> 19. 富文本编辑器</h3> <p>框架更换了原来的富文本编辑器<code>quill</code>，更换为 <a href="https://www.tiny.cloud/docs" target="_blank" rel="noopener noreferrer">Tinymce<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。<code>TinyMCE</code>的优势：</p> <ul><li>开源可商用，基于LGPL2.1</li> <li>插件丰富，自带插件基本涵盖日常所需功能</li> <li>接口丰富，可扩展性强，有能力可以无限拓展功能</li> <li>界面好看，符合现代审美</li> <li>提供经典、内联、沉浸无干扰三种模式</li> <li>对标准支持优秀（自v5开始）</li> <li>多语言支持，官网可下载几十种语言。</li></ul> <h3 id="_20-密码功能增强"><a href="#_20-密码功能增强" class="header-anchor">#</a> 20. 密码功能增强</h3> <ol><li><p>增强密码强度策略，用户密码长度不能少于6位，包含字母、数字、特殊字符</p></li> <li><p>用户首次登录，初始密码必须修改配置</p> <p>可在<strong>系统管理 —&gt; 参数设置</strong>页面中进行配置。</p> <img src="/assets/img/pwdModify.98f399b5.png" alt="pwdModify" style="zoom:50%;margin-left:-10px;"></li> <li><p>用户周期性提示密码修改配置</p> <p>可在<strong>系统管理 —&gt; 参数设置</strong>页面中进行配置。</p> <img src="/assets/img/pwdPeriod.1b5c968b.png" alt="pwdPeriod" style="zoom:50%;margin-left:-10px;"></li></ol> <h3 id="_21-列表长字段"><a href="#_21-列表长字段" class="header-anchor">#</a> 21. 列表长字段</h3> <p>开发中，经常会遇到列表中要显示一些很长的字段的场景，例如：备注字段。框架中添加了处理这种情况的组件，具体使用方式请参考代码示例。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>备注1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>long-table-col</span> <span class="token attr-name">:str</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.remark1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>备注2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>long-table-col</span> <span class="token attr-name">:str</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.remark2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:len</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>7<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>备注3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>long-table-col</span> <span class="token attr-name">:str</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.remark3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:len</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:maxHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>备注4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>long-table-col</span> <span class="token attr-name">:str</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row.remark4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:len</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:maxHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right-end<span class="token punctuation">&quot;</span></span> <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_22-部门用户选择"><a href="#_22-部门用户选择" class="header-anchor">#</a> 22. 部门用户选择</h3> <p>框架添加部门用户选择组件，适用于用户选择的场景，页面布局为左（部门）树右（用户列表）表，用户单选或多选。使用详情请查看 <code>代码示例 ——&gt; 用户选择</code></p> <h3 id="_23-消息提醒"><a href="#_23-消息提醒" class="header-anchor">#</a> 23. 消息提醒</h3> <p>框架添加了消息提醒功能，使用详情请<a href="https://dante7qx.github.io/pages/a659e3/" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_24-资源打包成zip下载"><a href="#_24-资源打包成zip下载" class="header-anchor">#</a> 24. 资源打包成ZIP下载</h3> <p>框架添加了将资源打包成ZIP并下载的功能，使用详情请<a href="https://dante7qx.github.io/pages/d875ee/" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_25-二维码生成工具"><a href="#_25-二维码生成工具" class="header-anchor">#</a> 25. 二维码生成工具</h3> <p>框架添加了二维码生成工具，<code>QrCodeUtils.java</code>，使用详情可参考代码示例。</p> <h3 id="_26-敏感词过滤工具"><a href="#_26-敏感词过滤工具" class="header-anchor">#</a> 26. 敏感词过滤工具</h3> <p>框架添加了敏感词过滤工具，<code>SensitiveWordUtil.java</code>，使用时需要在项目 <code>spirit.profile</code> 文件上传路径下，创建一个文本文件，名字必须叫 <code>SensitiveWord.txt</code>。内容示例如下：</p> <img src="/assets/img/wordfilter.d59cb0ed.png" alt="wordfilter" style="zoom:50%;"> <h3 id="_27-留言评论"><a href="#_27-留言评论" class="header-anchor">#</a> 27. 留言评论</h3> <p>框架添加了留言评论功能，使用详情请<a href="https://dante7qx.github.io/pages/53a7a2/" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_28-数据脱敏"><a href="#_28-数据脱敏" class="header-anchor">#</a> 28. 数据脱敏</h3> <p>框架添加了数据脱敏功能，对某些敏感信息通过脱敏规则进行数据的变形，实现敏感隐私数据的可靠保护。
开发人员可以通过注解<code>@DesensitizeMethod</code>和<code>@DesensitizeField</code>来实现业务需求。</p> <ol><li>在实体类上添加注解，例如：</li></ol> <ul><li><p><code>@DesensitizeField(type = DesensitizeType.DB)</code>                                                                  // 数据加密落库（国密SM4）</p> <ul><li>@DesensitizeMethod 的方法必须包含入参数，并且是第一个参数</li> <li>只适用于数据库字段是varchar类型，java类型是String的字段</li> <li>加密后长度最小32，设计时数据库字段长度应设计为32的整数倍</li></ul></li> <li><p><code>@DesensitizeField(type = DesensitizeType.ID_CARD)</code>                                                             // 身份证号脱敏</p></li> <li><p><code>@DesensitizeField(type = DesensitizeType.PASSWORD)</code>                                                            // 密码脱敏</p></li> <li><p><code>@DesensitizeField(type = DesensitizeType.PHONE)</code>                                                               // 手机号脱敏</p></li> <li><p><code>@DesensitizeField(type = DesensitizeType.FIX_PHONE)</code>                                                           // 固定电话脱敏</p></li> <li><p><code>@DesensitizeField(type = DesensitizeType.BANK_CARD)</code>                                                           // 银行卡脱敏</p></li> <li><p><code>@DesensitizeField(type = DesensitizeType.EMAIL)</code>                                                               // 电子邮箱脱敏</p></li> <li><p><code>@DesensitizeField(type = DesensitizeType.CUSTOMER, prefixLen=7, suffixLen=1, symbol = &quot;#&quot;)</code>                    // 自定义脱敏规则</p> <p>prefixNoMaskLen：开头显示原始字符数 <br>
prefixNoMaskLen：结尾显示原始字符数 <br>
symbol：替换后的字符</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/** 业务名称 */</span>
<span class="token annotation punctuation">@DesensitizeField</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">ID_CARD</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> demoName<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>在<code>Controller</code>、<code>ServiceImpl</code>的方法上添加注解，<code>@DesensitizeMethod</code></li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@DesensitizeMethod</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/{demoId}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">AjaxResult</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;demoId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> demoId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">AjaxResult</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>demoService<span class="token punctuation">.</span><span class="token function">selectDemoByDemoId</span><span class="token punctuation">(</span>demoId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_29-内部消息队列"><a href="#_29-内部消息队列" class="header-anchor">#</a> 29. 内部消息队列</h3> <p>框架添加了内部消息队列功能，使用详情请<a href="https://dante7qx.github.io/pages/8144a7/" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_30-导出word工具类"><a href="#_30-导出word工具类" class="header-anchor">#</a> 30. 导出Word工具类</h3> <p>框架添加了导出Word工具类，<code>WordExportUtil.java</code>，使用时要在文件上传的根目录下，创建文件夹<code>doc_template</code>（用于存放word模板文件）。</p> <p>代码示例：</p> <ol><li>将<code>demo.docx</code>文件复制到<code>doc_template</code>下。</li> <li>具体代码请参考<code>DemoController.java</code>中的<code>exportWord</code>方法和<code>biz/demo/detail.vue</code>中的<code>exportWord</code>方法。</li></ol> <h3 id="_31-部门树"><a href="#_31-部门树" class="header-anchor">#</a> 31. 部门树</h3> <p>框架添加部门树组件，适用于页面布局为左（部门）树右（业务）表的场景。使用详情请查看 <code>代码示例 ——&gt; 部门树</code>。</p> <h3 id="_32-文件预览增强"><a href="#_32-文件预览增强" class="header-anchor">#</a> 32. 文件预览增强</h3> <p>框架默认支持文件预览，支持格式只有（docx、xlsx、图片、txt、mp3、mp4、avi、wav）。
增强型的文件预览，几乎支持所有常用类型文件，使用详情请<a href="https://dante7qx.github.io/pages/5b9269/" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="_33-flyway管理数据库版本"><a href="#_33-flyway管理数据库版本" class="header-anchor">#</a> 33. Flyway管理数据库版本</h3> <p>框架使用<a href="https://flywaydb.org" target="_blank" rel="noopener noreferrer">Flyway<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来管理数据库版本，使用方式</p> <ul><li><strong>&lt; 4.0.0版本</strong></li></ul> <p>执行根目录<code>sql/spirit.sql、quartz.sql</code>。</p> <ul><li><strong>&gt;= 4.0.0版本</strong></li></ul> <p>已删除原来SQL文件，迁移到<code>[项目]-admin/src/main/resources/db/migration</code>下，不需要额外执行数据库脚本，系统运行后会自动执行</p> <ul><li>使用建议</li></ul> <p>系统研发的过程中，会经历很多次需求变更，并涉及到了数据库表结构的变更。<code>Flyway</code>就是用来做数据库表的版本控制管理。
将数据库的变更脚本放在<code>[项目]-admin/src/main/resources/db/migration</code>下</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">命名规则</span><span class="token punctuation">:</span> <span class="token value attr-value">`v版本__描述.sql`，例如：`v1_1__init_db.sql`</span>

<span class="token key attr-name">框架的脚本版本是</span> <span class="token value attr-value">V1，业务脚本建议从 V2 开始</span>
</code></pre></div><ul><li>不做改变</li></ul> <p>如果不想做数据库表的版本控制，喜欢原始的方式，那需要禁用Flyway。修改 <code>application.yml</code></p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span> 
  <span class="token key atrule">flyway</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre></div><h3 id="_34-redis分布式锁"><a href="#_34-redis分布式锁" class="header-anchor">#</a> 34. Redis分布式锁</h3> <p>框架添加Redis分布式锁功能，使用方式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">RedisLock</span> redisLock<span class="token punctuation">;</span>
<span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot;_concurrencyInsertLock&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Redission 分布式锁 - 用法1
 */</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">addDemo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">RLock</span> lock <span class="token operator">=</span> redisLock<span class="token punctuation">.</span><span class="token function">getRLock</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lock<span class="token punctuation">.</span><span class="token function">tryLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          	<span class="token function">addDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
          	lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
	
<span class="token comment">/**
 * Redission 分布式锁 - 用法2
 */</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">addDemo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>redisLock<span class="token punctuation">.</span><span class="token function">tryLock</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          	<span class="token function">addDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
          	redisLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_35-分割面板-前端"><a href="#_35-分割面板-前端" class="header-anchor">#</a> 35. 分割面板（前端）</h3> <p>框架（2023-07-07之后）已包含此功能，之前的版本若要使用，请进行如下操作。具体效果可查看<code>代码示例/部门树</code>。</p> <ol><li>安装依赖 <code>npm i splitpanes@legacy</code></li> <li>因为此功能并不常用，所以不加入全局设置，涉及的页面单独引入使用</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code>// 引入组件和样式
import { Splitpanes, Pane } from 'splitpanes'
import 'splitpanes/dist/splitpanes.css'

// 配置页面组件
components: { Splitpanes, Pane },

// 布局代码 vertical 垂直、horizontal 水平
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>splitpanes</span> <span class="token attr-name">vertical</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pane</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">min-size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>左侧部分<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pane</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pane</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>右侧部分<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pane</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>splitpanes</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>在全局样式中添加如下部分（一般在<code>src/styles/assets/ruoyi.scss</code>中）</li></ol> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.splitpanes--vertical &gt; .splitpanes__splitter</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #9e9e9e<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.splitpanes--horizontal &gt; .splitpanes__splitter</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #9e9e9e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_36-自定义高级查询"><a href="#_36-自定义高级查询" class="header-anchor">#</a> 36. 自定义高级查询</h3> <p>框架（2023-08-07后）添加了自定义高级查询功能组件，使用详情请<a href="https://dante7qx.github.io/pages/9a431b/" target="_blank" rel="noopener noreferrer">点击查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="四-更新记录"><a href="#四-更新记录" class="header-anchor">#</a> 四. 更新记录</h2> <h3 id="v3-0-1"><a href="#v3-0-1" class="header-anchor">#</a> <strong>v3.0.1</strong></h3> <p>更新时间 2023-02-07 10:52</p> <ol><li>Hutool 版本升级到 5.8.10</li> <li>Fastjson2 版本升级到 2.0.20</li> <li>优化富文本编辑器，添加首行缩进插件、禁用URL自动转换</li> <li>添加部门用户选择组件，使用详情请查看 <code>代码示例 ——&gt; 用户选择</code></li> <li>消息提醒功能</li> <li>系统用户支持按拼音、姓名首字母拼音搜索</li> <li>资源打包成ZIP下载</li> <li>区分部署多个项目Redis缓存</li> <li>二维码生成工具</li> <li>验证码版本升级到 2.3.3</li> <li>敏感词过滤功能</li> <li>表格<code>el-table</code>自适应高度</li> <li>留言评论功能</li> <li>数据脱敏功能</li> <li>内部消息队列</li></ol> <h3 id="v3-0-2"><a href="#v3-0-2" class="header-anchor">#</a> <strong>v3.0.2</strong></h3> <p>更新时间 2023-03-16 16:45</p> <ol><li>同步若依 3.8.5</li> <li>Hutool 版本升级到 5.8.15</li> <li>Fastjson2 版本升级到 2.0.25</li> <li>Druid 版本升级到 1.2.15</li> <li>Pagehelper 版本升级到 1.4.6</li> <li>Oshi 版本升级到 6.4.0</li> <li>Element-ui 版本升级到 2.5.13</li> <li>vue 版本升级 2.6.12 -&gt; 2.7.14</li> <li>vue-router 版本升级 3.4.9 -&gt; 3.6.5</li> <li>axios 版本升级 0.24.0 -&gt; 0.27.2</li> <li>移除 commons-fileupload 依赖</li> <li>优化代码，添加警告返回类型</li> <li>加快菜单切换的动画效果<br>
（<code>layout/components/AppMain.vue</code>）</li> <li>调整菜单Tab页关闭策略，关闭当前Tab后，激活当前Tab右侧Tab，右侧没有时激活左侧Tab <br>
(<code>layout/components/TagsView/index.vue</code>)</li> <li>POI-TL 版本升级到 1.10.5</li> <li>Word导出工具类及示例代码</li> <li>修改代码生成逻辑，添加逻辑删除功能（表中需添加删除标识字段 del_flag）</li> <li>添加ApiPost接口文档，位于项目根目录下 ApiPost.json</li></ol> <h3 id="v4-0-0"><a href="#v4-0-0" class="header-anchor">#</a> <strong>v4.0.0</strong></h3> <p>更新时间 2023-09-04 18:06</p> <ol><li>加强系统加密工具类，使用RSA加密算法结合安全填充。</li> <li>基于Sonar静态代码扫描结果，修改框架漏洞和Bug。</li> <li>前端添加部门树全局组件和代码示例。</li> <li>添加Sonar配置，部署过程添加静态代码扫描步骤。</li> <li>删除HttpUtils.java工具类，请使用<code>cn.hutool.http.HttpUtil</code>。</li> <li>前端删除jsencrypt，使用node-forge进行加/解密。</li> <li>Fastjson2 版本升级到 2.0.39、Guava 版本升级到 32.1.2-jre。</li> <li>oshi 版本升级到 6.4.4、Druid 版本升级到 1.2.17。</li> <li>commons.io 版本升级到 2.13.0、Hutool 版本升级到 5.8.20。</li> <li>添加form-label全局样式long-form-label，处理表单标签换行样式。</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>业务名称123业务名称456业务名称<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demoName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long-form-label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="11"><li>添加前端Base64编码、解码方法。</li> <li>文件预览增强。</li> <li>富文本编辑器添加一键排版功能。</li> <li>删除参数设置，全局主题和皮肤，修改请到如下文件中进行修改</li></ol> <div class="language-md extra-class"><pre class="language-md"><code>src/setting.js
src/store/modules/settings.js
</code></pre></div><ol start="15"><li>添加Flyway管理数据库版本</li> <li>Redis分布式锁</li> <li>前端面板分割组件</li> <li>自定义高级查询功能组件</li> <li>代码生成添加左侧部门树单表模板代码、自定义高级查询模板代码、导入模板代码、关联表字段显示模板代码</li> <li>信息发布功能增强，添加栏目分类、栏目属性、信息属性、信息评论等功能</li> <li>数据脱敏功能增强，添加密文落库功能</li></ol> <h3 id="v5-0-0"><a href="#v5-0-0" class="header-anchor">#</a> <strong>v5.0.0</strong></h3> <p>更新时间 2025-04-14 09:00</p> <ol><li>升级到Spring Boot 3.4.4</li> <li>添加审计历史功能</li></ol> <h3 id="v5-1-0"><a href="#v5-1-0" class="header-anchor">#</a> <strong>v5.1.0</strong></h3> <p>更新时间 2025-05-02 09:00</p> <ol><li>axios 版本升级到 1.8.4</li> <li>添加 docker 镜像构建插件</li></ol></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/05/02, 06:41:36</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/1a8a54/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Maven库配置</div></a> <a href="/pages/d3e913/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">精灵框架插件</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/1a8a54/" class="prev">Maven库配置</a></span> <span class="next"><a href="/pages/d3e913/">精灵框架插件</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/adca31/"><div>
            Docker插件
            <!----></div></a> <span class="date">05-02</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/bf1e77/"><div>
            JavaScript
            <!----></div></a> <span class="date">04-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/d5880f/"><div>
            MySQL安装
            <!----></div></a> <span class="date">04-24</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
    Copyright © 2023-2025
    <span>精灵程式世界</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b20e1425.js" defer></script><script src="/assets/js/2.cceb1a40.js" defer></script><script src="/assets/js/3.44c191c5.js" defer></script><script src="/assets/js/4.cd00e787.js" defer></script>
  </body>
</html>
