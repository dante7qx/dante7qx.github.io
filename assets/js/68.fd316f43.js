(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{466:function(a,t,s){"use strict";s.r(t);var e=s(14),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("MySQL下载地址，"),t("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/"}},[a._v("https://dev.mysql.com/downloads/mysql/")])]),a._v(" "),t("h2",{attrs:{id:"一-windows-环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-windows-环境"}},[a._v("#")]),a._v(" 一. Windows 环境")]),a._v(" "),t("h3",{attrs:{id:"_1-解压版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-解压版"}},[a._v("#")]),a._v(" 1. 解压版")]),a._v(" "),t("ul",[t("li",[t("p",[t("strong",[a._v("MySQL 5.7")])]),a._v(" "),t("ul",[t("li",[a._v("创建"),t("code",[a._v("my.ini")])])]),a._v(" "),t("div",{staticClass:"language-Ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("client")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("33306")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("default-character-set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("utf8mb4")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("mysqld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("33306")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("basedir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("E:\\mysql-5.7.43")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("datadir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("E:\\mysql-5.7.43\\data")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("log-error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("E:\\mysql-5.7.43\\log\\mysql_error.log")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("character-set-server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("utf8mb4")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("max_allowed_packet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("128M")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("max_connections")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("700")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("max_connect_errors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("10")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("innodb_flush_log_at_trx_commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("2")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("transaction_isolation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("READ-COMMITTED")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("innodb_log_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("2M")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("innodb_buffer_pool_instances")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("innodb_buffer_pool_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4G")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("innodb_io_capacity_max")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("8000")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("innodb_io_capacity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("4000")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("join_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("2M")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER")]),a._v("\n")])])]),t("ul",[t("li",[t("p",[a._v("将"),t("code",[a._v("MYSQL_HONE")]),a._v("加入环境变量，PATH中加入"),t("code",[a._v("%MYSQL_HONE%\\bin")])])]),a._v(" "),t("li",[t("p",[a._v("初始化MySQL")]),a._v(" "),t("p",[a._v("初始化完成后会出现"),t("code",[a._v("my.ini")]),a._v("中设置的"),t("code",[a._v("data")]),a._v("目录。")])])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("mysqld --initialize-insecure\n")])])]),t("ul",[t("li",[a._v("安装"),t("code",[a._v("MySQL")]),a._v("服务")])]),a._v(" "),t("div",{staticClass:"language-Bat extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mysqld --install\nnet start mysql\n")])])]),t("ul",[t("li",[a._v("登录"),t("code",[a._v("MySQL")])])]),a._v(" "),t("div",{staticClass:"language-bat extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(":: 设置密码\nmysqladmin -u root password <密码>\n\n:: 登录\nmysql -u root -p\n")])])])]),a._v(" "),t("li",[t("p",[t("strong",[a._v("MySQL 8")])]),a._v(" "),t("p",[a._v("和"),t("code",[a._v("MySQL5.7")]),a._v("一样")])])]),a._v(" "),t("h3",{attrs:{id:"_2-安装版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装版"}},[a._v("#")]),a._v(" 2. 安装版")]),a._v(" "),t("h2",{attrs:{id:"二-linux-环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-linux-环境"}},[a._v("#")]),a._v(" 二. Linux 环境")]),a._v(" "),t("p",[a._v("本文使用"),t("code",[a._v("Rocky 9.5 Linux")])]),a._v(" "),t("h3",{attrs:{id:"_1-dnf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-dnf"}},[a._v("#")]),a._v(" 1. dnf")]),a._v(" "),t("p",[a._v("切换成 root 用户。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 安装")]),a._v("\ndnf "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" mysql-server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 启动")]),a._v("\nsystemctl start mysqld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 设置开机启动")]),a._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" mysqld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 首次启动，root 密码为空，日志在 /var/log/mysql/mysqld.log")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 登录，修改 root 密码")]),a._v("\nmysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 密码必须包含 大小写字母、数字和特殊字符")]),a._v("\nalter user "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),a._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'localhost'")]),a._v(" identified by "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'1234@qwer'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("ul",[t("li",[a._v("配置 MySQL")])]),a._v(" "),t("div",{staticClass:"language-Bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/my.cnf.d/mysql-server.cnf\n")])])]),t("ul",[t("li",[a._v("设置 "),t("code",[a._v("lower_case_table_names=1")])])]),a._v(" "),t("div",{staticClass:"language-Bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 重新初始化数据目录")]),a._v("\nsystemctl stop mysqld \n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" /var/lib/mysql/*\nmysqld "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--initialize")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mysql\nsystemctl start mysqld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 若报权限问题")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" mysql:mysql /var/lib/mysql\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("755")]),a._v(" /var/lib/mysql\nsystemctl restart mysqld\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 有问题时，禁用 SELinux。 ")]),a._v("\nsetenforce "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 若问题解决，永久禁用 SELinux，重启")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/selinux/config\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SELINUX")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("disabled\n")])])]),t("h3",{attrs:{id:"_2-解压版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-解压版"}},[a._v("#")]),a._v(" 2. 解压版")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("MySQL 8")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);