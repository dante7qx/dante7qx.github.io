(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{488:function(t,a,e){"use strict";e.r(a);var s=e(14),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"deepseek教程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deepseek教程"}},[t._v("#")]),t._v(" DeepSeek教程")]),t._v(" "),a("h2",{attrs:{id:"一-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-概述"}},[t._v("#")]),t._v(" 一. 概述")]),t._v(" "),a("p",[t._v("DeepSeek-R1 是由深度求索（DeepSeek）公司开发的高性能 AI 推理模型，专注于数学、代码和自然语言推理任务。其核心优势包括：")]),t._v(" "),a("ul",[a("li",[t._v("强化学习驱动：通过强化学习技术显著提升推理能力，仅需少量标注数据即可高效训练。")]),t._v(" "),a("li",[t._v("长链推理（CoT）：支持多步骤逻辑推理，能够逐步分解复杂问题并解决。")]),t._v(" "),a("li",[t._v("模型蒸馏：支持将推理能力迁移到更小型的模型中，适合资源有限的场景。")]),t._v(" "),a("li",[t._v("开源生态：遵循 MIT 开源协议，允许用户自由使用、修改和商用。")])]),t._v(" "),a("p",[t._v("DeepSeek-R1 在多个基准测试中表现优异，性能对标 OpenAI 的 o1 正式版，同时具有更高的性价比。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("模型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("适用场景")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("配置要求")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("成本")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DeepSeek 1.5B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("基础问答、个人开发测试")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("CPU：4核（Intel i3-12100F / AMD Ryzen 5 5600G）"),a("br"),t._v("内存：8-16GB DDR4"),a("br"),t._v("显卡：纯CPU或GTX 1650（4GB显存）"),a("br"),t._v("存储：3GB+ SSD（模型文件约1.5-2GB）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("3000-5000元")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DeepSeek 7B/8B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("文案撰写、中等复杂度任务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("CPU：8核（AMD Ryzen 7 5700X / Intel i5-13600K）"),a("br"),t._v("内存：16-32GB DDR5"),a("br"),t._v("显卡：RTX 3060 12GB / RTX 4060（8GB显存）"),a("br"),t._v("存储：8GB+ NVMe SSD（模型文件约4-5GB）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("8000-12000元")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DeepSeek 14B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("长文本生成、企业级复杂任务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("CPU：12核（i9-13900K / Ryzen 9 7950X）"),a("br"),t._v("内存：32GB DDR5"),a("br"),t._v("显卡：RTX 4090 24GB / A5000"),a("br"),t._v("存储：15GB+ NVMe SSD（模型文件约14-28GB）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1.5万-2万元")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DeepSeek 32B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("金融预测、高精度专业任务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("CPU：16核（Xeon Gold 6338 / EPYC 7B13）"),a("br"),t._v("内存：64GB DDR5（ECC推荐）"),a("br"),t._v("显卡：双RTX 3090 24GB / 单A100 40GB"),a("br"),t._v("存储：30GB+ NVMe SSD")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("3万-4万元")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DeepSeek 70B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("科研计算、多模态预处理")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("CPU：32核服务器级（Xeon Platinum 8480+）"),a("br"),t._v("内存：128GB DDR5"),a("br"),t._v("显卡：4×RTX 4090 24GB / 2×A100 80GB"),a("br"),t._v("存储：70GB+ NVMe RAID")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("6万-8万元")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("DeepSeek 671B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("国家级AI研究、通用智能开发")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("CPU：64核集群（双路EPYC 7763）"),a("br"),t._v("内存：512GB DDR4 ECC"),a("br"),t._v("显卡：8×A100/H100 80GB（总显存640GB）"),a("br"),t._v("存储：300GB+分布式存储"),a("br"),t._v("电源：2000W冗余供电")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("200万-400万元")])])])]),t._v(" "),a("h2",{attrs:{id:"二-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-安装"}},[t._v("#")]),t._v(" 二. 安装")]),t._v(" "),a("p",[t._v("环境为虚拟机 Rocky9.5，使用 "),a("a",{attrs:{href:"https://ollama.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ollama"),a("OutboundLink")],1),t._v(" 来安装 "),a("code",[t._v("deepseek-r1")]),t._v("。")]),t._v(" "),a("p",[t._v("配置：4C8G 50G")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("1.配置静态IP")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## vim vim /etc/NetworkManager/system-connections/enp160.nmconnection")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ipv4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                                               \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manual\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("address")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),t._v(".125.183/24,172.16.125.2               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 修改IP，子网掩码；网关")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dns")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".8.8\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重启网络服务")]),t._v("\nnmcli connection reload\nnmcli connection down enp160\nnmcli connection up enp160\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 测试")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ping")]),t._v(" baidu.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 查看IP")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" a\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("安装基本工具")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("dnf "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" \ndnf "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python3.9-pip \npip3 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" tldr\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("关闭SELINUX")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("grubby --update-kernel ALL "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--args")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("selinux")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 修改 /etc/selinux/config")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SELINUX=enforcing")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("SELINUX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("disabled\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重启")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reboot")]),t._v("\n")])])])]),t._v(" "),a("h3",{attrs:{id:"_1-下载安装ollama"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载安装ollama"}},[t._v("#")]),t._v(" 1. 下载安装"),a("a",{attrs:{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ollama"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("(1) 运行 "),a("code",[t._v("curl -fsSL https://ollama.com/install.sh | sh")]),t._v(" 自动安装。")]),t._v(" "),a("p",[t._v("(2) 手动安装")]),t._v(" "),a("ul",[a("li",[t._v("根据系统下载对应的ollama，下载地址："),a("a",{attrs:{href:"https://github.com/ollama/ollama/releases"}},[t._v("https://github.com/ollama/ollama/releases")])]),t._v(" "),a("li",[t._v("安装步骤，参考"),a("a",{attrs:{href:"https://github.com/datawhalechina/handy-ollama/blob/main/docs/C2/3.%20Ollama%20%E5%9C%A8%20Linux%20%E4%B8%8B%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xvf ollama-linux-amd64.tgz "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--directory")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/lib/ollama\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ln")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sf")]),t._v(" /usr/local/lib/ollama/bin/ollama /usr/local/bin/ollama\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 为 Ollama 创建用户和组")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" /bin/false "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-U")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" /usr/share/ollama ollama\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-G")]),t._v(" ollama "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoami")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 在该位置：/etc/systemd/system/ollama.service 创建服务文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Ollama Service\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network-online.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/bin/ollama serve\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ollama\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Group")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ollama\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("always\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RestartSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Environment")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PATH='),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Environment")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OLLAMA_HOST=0.0.0.0"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Environment")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OLLAMA_ORIGINS=*"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("default.target\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 启动服务")]),t._v("\nsystemctl daemon-reload\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" ollama\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 查看日志")]),t._v("\njournalctl "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" ollama\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本地可通过浏览器访问，防火墙开放端口 11434。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ss -tulnp | grep ollama ")]),t._v("\nhttp://172.16.125.183:11434\n")])])]),a("h3",{attrs:{id:"_2-部署deepseek-r1-1-5b"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署deepseek-r1-1-5b"}},[t._v("#")]),t._v(" 2. 部署deepseek-r1:1.5b")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("ollama run deepseek-r1:1.5b\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 看到如下信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ollama run deepseek-r1:1.5b")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 你好\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("think"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/think"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n你好！很高兴见到你，有什么我可以帮忙的吗？无论是问题、建议还是闲聊，我都在这儿呢！😊\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /bye\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-安装open-webui界面化访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装open-webui界面化访问"}},[t._v("#")]),t._v(" 3. 安装"),a("a",{attrs:{href:"https://docs.openwebui.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("open-webui"),a("OutboundLink")],1),t._v("界面化访问")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("安装"),a("code",[t._v("Docker CE")])]),t._v(" "),a("p",[t._v("参考"),a("code",[t._v("https://www.rockylinux.cn/notes/zai-rocky-linux-9-1-shang-an-zhuang-docker-ce.html")])])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加Docker Repo")]),t._v("\ndnf config-manager --add-repo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://download.docker.com/linux/centos/docker-ce.repo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新源")]),t._v("\ndnf update\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在安装 Docker CE 的时候，会同步安装 docker-compose-plugin 插件")]),t._v("\ndnf "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" docker-ce\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 建议添加普通用户至Docker组，并以普通用户运行Docker")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$USER")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生效组用户变更配置")]),t._v("\nnewgrp "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动docker")]),t._v("\nsystemctl start "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开机启动")]),t._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("下载镜像并运行")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" pull ghcr.io/open-webui/open-webui:main\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 若 Ollama 运行在同一台服务器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8100")]),t._v(":8080 --add-host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("host.docker.internal:host-gateway "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /data/open-webui:/app/backend/data "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" open-webui "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--restart")]),t._v(" always ghcr.io/open-webui/open-webui:main\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 防火墙添加端口8100")]),t._v("\nfirewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11434")]),t._v("/tcp\nfirewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--reload")]),t._v("\n")])])]),a("p",[t._v("访问："),a("a",{attrs:{href:"http://172.16.125.183:9100"}},[t._v("http://172.16.125.183:8100")])]),t._v(" "),a("h2",{attrs:{id:"三-个人知识库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-个人知识库"}},[t._v("#")]),t._v(" 三. 个人知识库")]),t._v(" "),a("h3",{attrs:{id:"_1-anythingllm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-anythingllm"}},[t._v("#")]),t._v(" 1. "),a("a",{attrs:{href:"https://anythingllm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("AnythingLLM"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("（1）脚本安装")]),t._v(" "),a("ul",[a("li",[t._v("创建用户、用户组")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupadd")]),t._v(" dante\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" dante\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" dante\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 将用户添加到wheel组（在Rocky Linux中，wheel组的成员可以使用sudo执行管理员命令）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aG")]),t._v(" wheel dante\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 切换用户")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" - dante\n")])])]),a("ul",[a("li",[t._v("安装，运行 "),a("code",[t._v("curl -fsSL https://cdn.anythingllm.com/latest/installer.sh | sh")])]),t._v(" "),a("li",[t._v("启动，运行 "),a("code",[t._v("./AnythingLLMDesktop/start")])])]),t._v(" "),a("p",[t._v("（2）docker 安装（个人推荐）")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" pull mintplexlabs/anythingllm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 创建 volume 并赋权")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /data/anythingllm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-R")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" /data/anythingllm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 运行容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v(":3001 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" anythingllm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--cap-add SYS_ADMIN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /data/anythingllm:/app/server/storage "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /data/anythingllm/.env:/app/server/.env "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("STORAGE_DIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/app/server/storage"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\nmintplexlabs/anythingllm:latest\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 开放端口 9100")]),t._v("\nfirewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9100")]),t._v("/tcp\nfirewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--reload")]),t._v("\n")])])]),a("p",[t._v("访问："),a("a",{attrs:{href:"http://172.16.125.183:9100"}},[t._v("http://172.16.125.183:9100")])]),t._v(" "),a("h3",{attrs:{id:"_2-cherry-studio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-cherry-studio"}},[t._v("#")]),t._v(" 2. "),a("a",{attrs:{href:"https://cherry-ai.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cherry Studio"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"_3-maxkb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-maxkb"}},[t._v("#")]),t._v(" 3. "),a("a",{attrs:{href:"https://maxkb.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MaxKB"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"五-参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-参考资料"}},[t._v("#")]),t._v(" 五. 参考资料")]),t._v(" "),a("ul",[a("li",[t._v("https://deepseek.csdn.net/67bfbe786670175f992c1a5c.html")]),t._v(" "),a("li",[t._v("https://deepseek.csdn.net/67bed5ff2e30c8639006e534.html")]),t._v(" "),a("li",[t._v("https://blog.csdn.net/soso678/article/details/145670623")]),t._v(" "),a("li",[t._v("https://deepseek.csdn.net/67bed5ff2e30c8639006e534.html")]),t._v(" "),a("li",[t._v("https://zhuanlan.zhihu.com/p/20642808493")]),t._v(" "),a("li",[t._v("https://docs.openwebui.com")])])])}),[],!1,null,null,null);a.default=n.exports}}]);